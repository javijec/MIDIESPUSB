<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MIDI Pedalboard Config</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <h1>MIDI Pedalboard Config</h1>
      <!-- Connection Card -->
      <div class="card">
        <div class="status-bar">
          <div class="status-indicator">
            <div id="statusDot" class="dot"></div>
            <span id="statusText">Disconnected</span>
          </div>
          <button id="connectBtn" class="primary">Connect Bluetooth</button>
        </div>
      </div>
      <!-- Main Interface (Hidden until connected) -->
      <div id="mainInterface" class="editor-panel">
        <!-- Bank Selector -->
        <div class="card">
          <label>Select Bank</label>
          <div class="bank-selector">
            <div class="bank-btn active" data-bank="0">1</div>
            <div class="bank-btn" data-bank="1">2</div>
            <div class="bank-btn" data-bank="2">3</div>
            <div class="bank-btn" data-bank="3">4</div>
          </div>
        </div>
        <!-- Pedal Grid -->
        <div class="pedal-grid">
          <!-- Buttons will be mapped: UI 1 -> Index 3, UI 2 -> Index 2, etc. -->
          <div class="pedal-btn selected" onclick="selectPedal(0)">
            <span class="pedal-number">1</span>
            <span class="pedal-info" id="info-0">NOTE 60</span>
          </div>
          <div class="pedal-btn" onclick="selectPedal(1)">
            <span class="pedal-number">2</span>
            <span class="pedal-info" id="info-1">NOTE 61</span>
          </div>
          <div class="pedal-btn" onclick="selectPedal(2)">
            <span class="pedal-number">3</span>
            <span class="pedal-info" id="info-2">NOTE 62</span>
          </div>
          <div class="pedal-btn" onclick="selectPedal(3)">
            <span class="pedal-number">4</span>
            <span class="pedal-info" id="info-3">NOTE 63</span>
          </div>
        </div>
        <!-- Editor Form -->
        <div class="card">
          <h3 style="margin-top: 0; color: var(--accent)">
            Edit Button <span id="currentEditId">1</span>
          </h3>
          <div class="form-group">
            <label>Button Type</label>
            <select id="btnType">
              <option value="0">Momentary (Press/Release)</option>
              <option value="1">Toggle (On/Off)</option>
            </select>
          </div>
          <div class="form-group">
            <label>MIDI Message</label>
            <select id="midiType">
              <option value="0">Note On/Off</option>
              <option value="1">Control Change (CC)</option>
              <option value="2">Program Change (PC)</option>
            </select>
          </div>
          <div class="form-group">
            <label>Value (Note/CC Number)</label>
            <input type="number" id="midiValue" min="0" max="127" value="60" />
          </div>
          <div class="form-group">
            <label>Channel (1-16)</label>
            <input type="number" id="midiChannel" min="1" max="16" value="1" />
          </div>
          <div class="form-group">
            <label>Velocity (0-127)</label>
            <input
              type="number"
              id="midiVelocity"
              min="0"
              max="127"
              value="127"
            />
          </div>
          <button id="saveBtn" class="primary save-btn">
            Save Configuration
          </button>
        </div>
      </div>
      <!-- Debug Log -->
      <div class="debug-area" id="debugLog">> Ready to connect...</div>
    </div>
    <script src="app.js"></script>
  </body>
</html>
